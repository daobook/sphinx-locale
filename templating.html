
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>主题化 &#8212; Sphinx documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx13.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/translations.js"></script>
    <link rel="canonical" href="https://www.sphinx-doc.org/en/master/templating.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx documentation 中搜索"
          href="_static/opensearch.xml"/>
    <link rel="shortcut icon" href="_static/favicon.svg"/>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="LaTeX customization" href="latex.html" />
    <link rel="prev" title="sphinx-autogen" href="man/sphinx-autogen.html" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>
    <script>
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="usage/installation.html">Get it</a></li>
    <li><a href="contents.html">Docs</a></li>
    <li><a href="development/index.html">Extend</a></li>
  </ul>
  <div>
    <a href="index.html">
      <img src="_static/sphinxheader.png" alt="SPHINX" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="latex.html" title="LaTeX customization"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="man/sphinx-autogen.html" title="sphinx-autogen"
             accesskey="P">上一页</a> |</li>
        <li><a href="index.html">Sphinx home</a>&#160;|</li>
        <li><a href="contents.html">Documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">主题化</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="contents.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">主题化</a><ul>
<li><a class="reference internal" href="#do-i-need-to-use-sphinx-s-templates-to-produce-html">我需要使用 Sphinx 的模板来制作 HTML 吗？</a></li>
<li><a class="reference internal" href="#jinja-sphinx-templating-primer">Jinja/Sphinx 模板化入门</a></li>
<li><a class="reference internal" href="#working-with-the-builtin-templates">令内置模板生效</a><ul>
<li><a class="reference internal" href="#blocks">块</a></li>
<li><a class="reference internal" href="#configuration-variables">配置变量</a></li>
<li><a class="reference internal" href="#helper-functions">助手函数</a></li>
<li><a class="reference internal" href="#global-variables">全局变量</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="man/sphinx-autogen.html"
                        title="上一章">sphinx-autogen</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="latex.html"
                        title="下一章">LaTeX customization</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/templating.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="templating">
<span id="id1"></span><h1>主题化<a class="headerlink" href="#templating" title="永久链接至标题">¶</a></h1>
<p>Sphinx 使用 <a class="reference external" href="https://jinja.palletsprojects.com/">Jinja</a> 模板引擎来制作 HTML 模板。Jinja 是一个基于文本的引擎，灵感来自 Django 模板，所以任何使用过 Django 的人都会熟悉它。对于那些需要熟悉它的人，它也有很好的文档。</p>
<section id="do-i-need-to-use-sphinx-s-templates-to-produce-html">
<h2>我需要使用 Sphinx 的模板来制作 HTML 吗？<a class="headerlink" href="#do-i-need-to-use-sphinx-s-templates-to-produce-html" title="永久链接至标题">¶</a></h2>
<p>不，你有其他几个选择：</p>
<ul class="simple">
<li><p>你可以写一个 <a class="reference internal" href="extdev/appapi.html#sphinx.application.TemplateBridge" title="sphinx.application.TemplateBridge"><code class="xref py py-class docutils literal notranslate"><span class="pre">TemplateBridge</span></code></a> 子类，调用你选择的模板引擎，并相应设置 <a class="reference internal" href="usage/configuration.html#confval-template_bridge"><code class="xref std std-confval docutils literal notranslate"><span class="pre">template_bridge</span></code></a> 配置值。</p></li>
<li><p>你可以 <a class="reference internal" href="extdev/builderapi.html#writing-builders"><span class="std std-ref">写一个自定义的构建器</span></a>，它源自 <a class="reference internal" href="usage/builders/index.html#sphinx.builders.html.StandaloneHTMLBuilder" title="sphinx.builders.html.StandaloneHTMLBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">StandaloneHTMLBuilder</span></code></a> 并调用你选择的模板引擎。</p></li>
<li><p>你可以使用 <code class="xref py py-class docutils literal notranslate"><span class="pre">PickleHTMLBuilder</span></code>，它产生带有页面内容的 pickle 文件，并使用自定义工具对其进行后处理，或在你的 Web 应用程序中使用它们。</p></li>
</ul>
</section>
<section id="jinja-sphinx-templating-primer">
<h2>Jinja/Sphinx 模板化入门<a class="headerlink" href="#jinja-sphinx-templating-primer" title="永久链接至标题">¶</a></h2>
<p>Sphinx 的默认模板语言是 Jinja。它受 Django/Smarty 启发，易于理解。Jinja 中最重要的概念是 <em class="dfn">模板继承</em>，这意味着你可以在模板中只覆盖特定的块，定制它的同时也将变化控制在最小范围。</p>
<p>要定制你的文档输出，你可以覆盖所有的模板（包括布局模板和子模板），方法是在 Sphinx quickstart 为你生成的结构的模板目录中添加与原始文件名相同的文件。</p>
<p>Sphinx 会先在 <a class="reference internal" href="usage/configuration.html#confval-templates_path"><code class="xref std std-confval docutils literal notranslate"><span class="pre">templates_path</span></code></a> 的文件夹中寻找模板，如果在那里找不到它要找的模板，它就会退回到所选主题的模板。</p>
<p>一个模板包含 <strong>变量</strong>，这些变量在模板被评估时被替换成数值，<strong>标记</strong>，控制模板的逻辑，以及 <strong>块</strong>，用于模板的继承。</p>
<p>Sphinx 的 <em>basic</em> 主题提供了基础模板，它将用数据来填充几个块。这些模板位于 Sphinx 安装目录的 <code class="file docutils literal notranslate"><span class="pre">themes/basic</span></code> 子目录下，并被所有内置的 Sphinx 主题使用。在 <a class="reference internal" href="usage/configuration.html#confval-templates_path"><code class="xref std std-confval docutils literal notranslate"><span class="pre">templates_path</span></code></a> 中具有相同名称的模板会覆盖所选主题提供的模板。</p>
<p>例如，要在包含相关链接的模板区添加一个新的链接，你所要做的就是添加一个名为 <code class="docutils literal notranslate"><span class="pre">layout.html</span></code> 的新模板，内容如下</p>
<div class="highlight-html+jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;!layout.html&quot;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">rootrellink</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://project.invalid/&quot;</span><span class="p">&gt;</span>Project Homepage<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> <span class="ni">&amp;raquo;</span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="cp">{{</span> <span class="nb">super</span><span class="o">()</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>通过在覆盖的模板名称前加上感叹号，Sphinx 将从底层的 HTML 主题加载布局模板。</p>
<div class="admonition important">
<p class="admonition-title">重要</p>
<p>如果你覆盖了一个块，请在某个地方调用 <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">super()</span> <span class="pre">}}</span></code>，以便在插件模板中呈现该块的原始内容–除非你不希望该内容显示出来。</p>
</div>
</section>
<section id="working-with-the-builtin-templates">
<h2>令内置模板生效<a class="headerlink" href="#working-with-the-builtin-templates" title="永久链接至标题">¶</a></h2>
<p>内建的 <strong>basic</strong> 主题提供了所有内建的 Sphinx 主题所基于的模板。它有以下元素，你可以覆盖或使用：</p>
<section id="blocks">
<h3>块<a class="headerlink" href="#blocks" title="永久链接至标题">¶</a></h3>
<p>在 <code class="docutils literal notranslate"><span class="pre">layout.html</span></code> 模板中存在以下块：</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">doctype</span></code></dt><dd><p>输出格式的 doctype。默认是 XHTML 1.0 Transitional，因为它最接近 Sphinx 和 Docutils 生成的格式，除非你想切换到 HTML 5 或不同但兼容的 XHTML doctype，否则最好不要改变它。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">linktags</span></code></dt><dd><p>这个块在模板的头部添加了几个 <code class="docutils literal notranslate"><span class="pre">&lt;link&gt;</span></code> 标签。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">extrahead</span></code></dt><dd><p>这个区块默认是空的，可以用来在生成的 HTML 文件的 <code class="docutils literal notranslate"><span class="pre">&lt;head&gt;</span></code> 标签中添加额外的内容。 这是添加对 JavaScript 或额外 CSS 文件引用的正确位置。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">relbar1</span></code>, <code class="docutils literal notranslate"><span class="pre">relbar2</span></code></dt><dd><p>这个区块包含 <em>关系栏</em>，即相关链接的列表（左边是父文档，右边是索引、模块等的链接）。<cite>relbar1</cite> 出现在文档之前，<cite>relbar2</cite> 出现在文档之后。默认情况下，两个区块都被填满；如果只在文档之前显示 relbar，你可以像这样覆盖 <code class="docutils literal notranslate"><span class="pre">relbar2</span></code>：</p>
<div class="highlight-html+jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">relbar2</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rootrellink</span></code>, <code class="docutils literal notranslate"><span class="pre">relbaritems</span></code></dt><dd><p>在 relbar 内部有三个部分。<code class="docutils literal notranslate"><span class="pre">rootrellink</span></code>，来自文档的链接和自定义的 <code class="docutils literal notranslate"><span class="pre">relbaritems</span></code>。<code class="docutils literal notranslate"><span class="pre">rootrellink</span></code> 是一个块，默认包含一个指向根文档的列表项，<code class="docutils literal notranslate"><span class="pre">relbaritems</span></code> 是一个空块。如果你覆盖它们来添加额外的链接到栏中，确保它们是列表项，并以 <a class="reference internal" href="#reldelim1" title="reldelim1"><code class="xref py py-data docutils literal notranslate"><span class="pre">reldelim1</span></code></a> 结尾。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">document</span></code></dt><dd><p>文档本身的内容。它包含一个块 “body”，其中的单个内容由子模板（如 <code class="docutils literal notranslate"><span class="pre">page.html</span></code>）放置。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>为了让内置的 JavaScript 搜索在结果页面上显示页面预览，文档或正文内容应该被包裹在一个包含 <code class="docutils literal notranslate"><span class="pre">role=&quot;main&quot;</span></code> 属性的 HTML 元素中。例如</p>
<div class="highlight-html+jinja notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">role</span><span class="o">=</span><span class="s">&quot;main&quot;</span><span class="p">&gt;</span>
  <span class="cp">{%</span> <span class="k">block</span> <span class="nv">document</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sidebar1</span></code>, <code class="docutils literal notranslate"><span class="pre">sidebar2</span></code></dt><dd><p>一个可能的侧边栏位置。<code class="docutils literal notranslate"><span class="pre">sidebar1</span></code> 出现在文档之前，默认为空，<code class="docutils literal notranslate"><span class="pre">sidebar2</span></code> 在文档之后，包含默认的侧边栏。如果你想更换侧边栏的位置，可以覆盖这个，并调用 <code class="docutils literal notranslate"><span class="pre">sidebar</span></code> 助手</p>
<div class="highlight-html+jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar1</span> <span class="cp">%}{{</span> <span class="nv">sidebar</span><span class="o">()</span> <span class="cp">}}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar2</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>（例如，<code class="docutils literal notranslate"><span class="pre">sphinxdoc.css</span></code> 样式表需要侧边栏的 <code class="docutils literal notranslate"><span class="pre">sidebar2</span></code> 位置。）</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sidebarlogo</span></code></dt><dd><p>侧边栏内的 logo 位置。如果你想把一些内容放在侧边栏的顶部，可以覆盖这个。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">footer</span></code></dt><dd><p>用于页脚 DIV 的块。如果你想在它之前或之后有一个自定义的页脚或标记，请覆盖这个。</p>
</dd>
</dl>
<p>以下四个块只用于那些没有在 <a class="reference internal" href="usage/configuration.html#confval-html_sidebars"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_sidebars</span></code></a> 配置值中指定自定义侧栏列表的页面。它们的使用已被弃用，以支持独立的侧边栏模板，这可以通过 <a class="reference internal" href="usage/configuration.html#confval-html_sidebars"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_sidebars</span></code></a> 包含。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">sidebartoc</span></code></dt><dd><p>侧边栏内的目录。</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">1.0 版后已移除.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sidebarrel</span></code></dt><dd><p>侧边栏内的关系链接（上一个、下一个文档）。</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">1.0 版后已移除.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sidebarsourcelink</span></code></dt><dd><p>侧边栏内的 “显示源代码” 链接（通常只在通过 <a class="reference internal" href="usage/configuration.html#confval-html_show_sourcelink"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_show_sourcelink</span></code></a> 启用时显示）。</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">1.0 版后已移除.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sidebarsearch</span></code></dt><dd><p>侧边栏内的搜索框。如果你想把一些内容放在侧边栏的底部，请覆盖这一点。</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">1.0 版后已移除.</span></p>
</div>
</dd>
</dl>
</section>
<section id="configuration-variables">
<h3>配置变量<a class="headerlink" href="#configuration-variables" title="永久链接至标题">¶</a></h3>
<p>在模板内部，你可以使用 <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">set</span> <span class="pre">%}</span></code> 标记来设置布局模板使用的几个变量：</p>
<dl class="py data">
<dt class="sig sig-object py" id="reldelim1">
<span class="sig-name descname"><span class="pre">reldelim1</span></span><a class="headerlink" href="#reldelim1" title="永久链接至目标">¶</a></dt>
<dd><p>相关栏左边的项目的分隔符。默认为 <code class="docutils literal notranslate"><span class="pre">'</span> <span class="pre">&amp;raquo;'</span></code> 相关栏中的每个项目都以这个变量的值结束。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="reldelim2">
<span class="sig-name descname"><span class="pre">reldelim2</span></span><a class="headerlink" href="#reldelim2" title="永久链接至目标">¶</a></dt>
<dd><p>相关栏右边的项目的分隔符。默认为 <code class="docutils literal notranslate"><span class="pre">'</span> <span class="pre">|'</span></code>。除了相关栏中的最后一项外，每项都以这个变量的值结束。</p>
</dd></dl>

<p>覆盖的工作方式是这样的</p>
<div class="highlight-html+jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;!layout.html&quot;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">reldelim1</span> <span class="o">=</span> <span class="s1">&#39; &amp;gt;&#39;</span> <span class="cp">%}</span>
</pre></div>
</div>
<dl class="py data">
<dt class="sig sig-object py" id="script_files">
<span class="sig-name descname"><span class="pre">script_files</span></span><a class="headerlink" href="#script_files" title="永久链接至目标">¶</a></dt>
<dd><p>在这里添加额外的脚本文件，像这样</p>
<div class="highlight-html+jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">script_files</span> <span class="o">=</span> <span class="nv">script_files</span> <span class="o">+</span> <span class="o">[</span><span class="s2">&quot;_static/myscript.js&quot;</span><span class="o">]</span> <span class="cp">%}</span>
</pre></div>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">1.8.0 版后已移除: </span>请使用 <code class="docutils literal notranslate"><span class="pre">.Sphinx.add_js_file()</span></code> 代替。</p>
</div>
</dd></dl>

</section>
<section id="helper-functions">
<h3>助手函数<a class="headerlink" href="#helper-functions" title="永久链接至标题">¶</a></h3>
<p>Sphinx 在模板中提供各种 Jinja 函数作为助手。你可以用它们来生成链接或输出多用的元素。</p>
<dl class="py function">
<dt class="sig sig-object py" id="pathto">
<span class="sig-name descname"><span class="pre">pathto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">document</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pathto" title="永久链接至目标">¶</a></dt>
<dd><p>以 URL 的形式返回 Sphinx 文档的路径。用这个来引用已建的文件。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">pathto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">file</span></em>, <em class="sig-param"><span class="pre">1</span></em><span class="sig-paren">)</span></dt>
<dd><p>返回一个 <em>文件</em> 的路径，这是一个相对于生成的输出根的文件名。用它来指代静态文件。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hasdoc">
<span class="sig-name descname"><span class="pre">hasdoc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">document</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hasdoc" title="永久链接至目标">¶</a></dt>
<dd><p>检查是否存在一个名字为 <em>document</em> 的文件。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sidebar">
<span class="sig-name descname"><span class="pre">sidebar</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sidebar" title="永久链接至目标">¶</a></dt>
<dd><p>返回已渲染的侧边栏。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="relbar">
<span class="sig-name descname"><span class="pre">relbar</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#relbar" title="永久链接至目标">¶</a></dt>
<dd><p>返回已渲染的关系栏。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="warning">
<span class="sig-name descname"><span class="pre">warning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#warning" title="永久链接至目标">¶</a></dt>
<dd><p>发出警告信息。</p>
</dd></dl>

</section>
<section id="global-variables">
<h3>全局变量<a class="headerlink" href="#global-variables" title="永久链接至标题">¶</a></h3>
<p>这些全局变量在每个模板中都是可用的，并且可以安全使用。还有更多，但大多数是一个实现细节，将来可能会改变。</p>
<dl class="py data">
<dt class="sig sig-object py" id="builder">
<span class="sig-name descname"><span class="pre">builder</span></span><a class="headerlink" href="#builder" title="永久链接至目标">¶</a></dt>
<dd><p>构建器的名称（例如，<code class="docutils literal notranslate"><span class="pre">html</span></code> 或 <code class="docutils literal notranslate"><span class="pre">htmlhelp</span></code>）。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="copyright">
<span class="sig-name descname"><span class="pre">copyright</span></span><a class="headerlink" href="#copyright" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="usage/configuration.html#confval-copyright"><code class="xref std std-confval docutils literal notranslate"><span class="pre">copyright</span></code></a> 的值。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="docstitle">
<span class="sig-name descname"><span class="pre">docstitle</span></span><a class="headerlink" href="#docstitle" title="永久链接至目标">¶</a></dt>
<dd><p>文档的标题（<a class="reference internal" href="usage/configuration.html#confval-html_title"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_title</span></code></a> 的值），除了当使用 “single-file” 构建器时，它被设置为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="embedded">
<span class="sig-name descname"><span class="pre">embedded</span></span><a class="headerlink" href="#embedded" title="永久链接至目标">¶</a></dt>
<dd><p>如果内置的 HTML 是为了嵌入到一些处理导航的查看程序中，而不是 Web 浏览器，例如 HTML 帮助或 Qt 帮助格式，则为真。在这种情况下，侧边栏就不包括在内。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="favicon">
<span class="sig-name descname"><span class="pre">favicon</span></span><a class="headerlink" href="#favicon" title="永久链接至目标">¶</a></dt>
<dd><p>静态路径中的 HTML favicon 的路径，或指向 favicon 的 URL，或 <code class="docutils literal notranslate"><span class="pre">''</span></code>。</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">4.0 版后已移除: </span>建议使用 <code class="docutils literal notranslate"><span class="pre">favicon_url</span></code> 代替。</p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="favicon_url">
<span class="sig-name descname"><span class="pre">favicon_url</span></span><a class="headerlink" href="#favicon_url" title="永久链接至目标">¶</a></dt>
<dd><p>当前文档中的 HTML favicon 图片的相对路径，或指向 favicon 的URL，或 <code class="docutils literal notranslate"><span class="pre">''</span></code>。</p>
<div class="versionadded">
<p><span class="versionmodified added">4.0 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="file_suffix">
<span class="sig-name descname"><span class="pre">file_suffix</span></span><a class="headerlink" href="#file_suffix" title="永久链接至目标">¶</a></dt>
<dd><p>构建器的 <a class="reference internal" href="usage/builders/index.html#sphinxcontrib.serializinghtml.SerializingHTMLBuilder.out_suffix" title="sphinxcontrib.serializinghtml.SerializingHTMLBuilder.out_suffix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">out_suffix</span></code></a> 属性的值，即输出文件将得到的文件名扩展。对于一个标准的 HTML 生成器，这通常是 <code class="docutils literal notranslate"><span class="pre">.html</span></code>。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="has_source">
<span class="sig-name descname"><span class="pre">has_source</span></span><a class="headerlink" href="#has_source" title="永久链接至目标">¶</a></dt>
<dd><p>如果 reST 文档源被复制，则为真（如果 <a class="reference internal" href="usage/configuration.html#confval-html_copy_source"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_copy_source</span></code></a> 是 <code class="docutils literal notranslate"><span class="pre">True</span></code> ）。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="language">
<span class="sig-name descname"><span class="pre">language</span></span><a class="headerlink" href="#language" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="usage/configuration.html#confval-language"><code class="xref std std-confval docutils literal notranslate"><span class="pre">language</span></code></a> 的值。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="last_updated">
<span class="sig-name descname"><span class="pre">last_updated</span></span><a class="headerlink" href="#last_updated" title="永久链接至目标">¶</a></dt>
<dd><p>构建日期。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="logo">
<span class="sig-name descname"><span class="pre">logo</span></span><a class="headerlink" href="#logo" title="永久链接至目标">¶</a></dt>
<dd><p>静态路径中的 HTML 标志图片的路径，或标志的 URL，或 <code class="docutils literal notranslate"><span class="pre">''</span></code>。</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">4.0 版后已移除: </span>建议使用 <code class="docutils literal notranslate"><span class="pre">logo_url</span></code> 代替。</p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="logo_url">
<span class="sig-name descname"><span class="pre">logo_url</span></span><a class="headerlink" href="#logo_url" title="永久链接至目标">¶</a></dt>
<dd><p>当前文档中 HTML 标志图片的相对路径，或标志的 URL，或 <code class="docutils literal notranslate"><span class="pre">''</span></code>。</p>
<div class="versionadded">
<p><span class="versionmodified added">4.0 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="master_doc">
<span class="sig-name descname"><span class="pre">master_doc</span></span><a class="headerlink" href="#master_doc" title="永久链接至目标">¶</a></dt>
<dd><p>同 <a class="reference internal" href="#root_doc" title="root_doc"><code class="xref py py-data docutils literal notranslate"><span class="pre">root_doc</span></code></a>。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 4.0 版更改: </span>重命名为 <code class="docutils literal notranslate"><span class="pre">root_doc</span></code>。</p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="root_doc">
<span class="sig-name descname"><span class="pre">root_doc</span></span><a class="headerlink" href="#root_doc" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="usage/configuration.html#confval-root_doc"><code class="xref std std-confval docutils literal notranslate"><span class="pre">root_doc</span></code></a> 的值，与 <a class="reference internal" href="#pathto" title="pathto"><code class="xref py py-func docutils literal notranslate"><span class="pre">pathto()</span></code></a> 一起使用。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 4.0 版更改: </span>从 <code class="docutils literal notranslate"><span class="pre">master_doc</span></code> 重新命名。</p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="pagename">
<span class="sig-name descname"><span class="pre">pagename</span></span><a class="headerlink" href="#pagename" title="永久链接至目标">¶</a></dt>
<dd><p>当前文件的 “页面名称”，即如果文件是从 reST 源生成的，则是文件名称，或者是相对于输出目录的等效层次名称（<code class="docutils literal notranslate"><span class="pre">[directory/]filename_without_extension</span></code>）。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="project">
<span class="sig-name descname"><span class="pre">project</span></span><a class="headerlink" href="#project" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="usage/configuration.html#confval-project"><code class="xref std std-confval docutils literal notranslate"><span class="pre">project</span></code></a> 的值。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="release">
<span class="sig-name descname"><span class="pre">release</span></span><a class="headerlink" href="#release" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="usage/configuration.html#confval-release"><code class="xref std std-confval docutils literal notranslate"><span class="pre">release</span></code></a> 的值。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="rellinks">
<span class="sig-name descname"><span class="pre">rellinks</span></span><a class="headerlink" href="#rellinks" title="永久链接至目标">¶</a></dt>
<dd><p>在relbar的左边，在 “next” 和 “previous” 旁边的链接列表。这通常包含指向总索引和其他索引的链接，例如 Python 模块索引。如果你自己添加东西，它必须是一个元</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="shorttitle">
<span class="sig-name descname"><span class="pre">shorttitle</span></span><a class="headerlink" href="#shorttitle" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="usage/configuration.html#confval-html_short_title"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_short_title</span></code></a> 的值。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="show_source">
<span class="sig-name descname"><span class="pre">show_source</span></span><a class="headerlink" href="#show_source" title="永久链接至目标">¶</a></dt>
<dd><p>如果 <a class="reference internal" href="usage/configuration.html#confval-html_show_sourcelink"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_show_sourcelink</span></code></a> 是 <code class="docutils literal notranslate"><span class="pre">True</span></code>，则为真。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="sphinx_version">
<span class="sig-name descname"><span class="pre">sphinx_version</span></span><a class="headerlink" href="#sphinx_version" title="永久链接至目标">¶</a></dt>
<dd><p>用于构建的 Sphinx 的版本以字符串表示，例如 “3.5.1”。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="sphinx_version_tuple">
<span class="sig-name descname"><span class="pre">sphinx_version_tuple</span></span><a class="headerlink" href="#sphinx_version_tuple" title="永久链接至目标">¶</a></dt>
<dd><p>用来构建的 Sphinx 的版本表示为一个有五个元素的元组。对于 Sphinx 3.5.1 beta 3 版本，这将是 <code class="docutils literal notranslate"><span class="pre">(3,</span> <span class="pre">5,</span> <span class="pre">1,</span> <span class="pre">'beta',</span> <span class="pre">3)</span></code>。第四个元素可以是其中之一。<code class="docutils literal notranslate"><span class="pre">alpha</span></code>、<code class="docutils literal notranslate"><span class="pre">beta</span></code>、<code class="docutils literal notranslate"><span class="pre">rc</span></code>、<code class="docutils literal notranslate"><span class="pre">final</span></code>。<code class="docutils literal notranslate"><span class="pre">final</span></code> 总是以 0 作为最后一个元素。</p>
<div class="versionadded">
<p><span class="versionmodified added">4.2 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="style">
<span class="sig-name descname"><span class="pre">style</span></span><a class="headerlink" href="#style" title="永久链接至目标">¶</a></dt>
<dd><p>主样式表的名称，由主题或 <a class="reference internal" href="usage/configuration.html#confval-html_style"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_style</span></code></a> 给出。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="title">
<span class="sig-name descname"><span class="pre">title</span></span><a class="headerlink" href="#title" title="永久链接至目标">¶</a></dt>
<dd><p>当前文档的标题，在 <code class="docutils literal notranslate"><span class="pre">&lt;title&gt;</span></code> 标记中使用。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="use_opensearch">
<span class="sig-name descname"><span class="pre">use_opensearch</span></span><a class="headerlink" href="#use_opensearch" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="usage/configuration.html#confval-html_use_opensearch"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_use_opensearch</span></code></a> 的值。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="version">
<span class="sig-name descname"><span class="pre">version</span></span><a class="headerlink" href="#version" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="usage/configuration.html#confval-version"><code class="xref std std-confval docutils literal notranslate"><span class="pre">version</span></code></a> 的值。</p>
</dd></dl>

<p>除了这些值之外，还有所有的 <strong>主题选项</strong> （以 <code class="docutils literal notranslate"><span class="pre">theme_</span></code> 为前缀），以及用户在 <a class="reference internal" href="usage/configuration.html#confval-html_context"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_context</span></code></a> 中给出的值。</p>
<p>在从源文件创建的文件中（相对于自动生成的文件，如模块索引，或已经是 HTML 形式的文件），这些变量也可以使用：</p>
<dl class="py data">
<dt class="sig sig-object py" id="body">
<span class="sig-name descname"><span class="pre">body</span></span><a class="headerlink" href="#body" title="永久链接至目标">¶</a></dt>
<dd><p>一个字符串，包含在应用主题之前，由 HTML 生成器生成的 HTML 形式的页面内容。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="display_toc">
<span class="sig-name descname"><span class="pre">display_toc</span></span><a class="headerlink" href="#display_toc" title="永久链接至目标">¶</a></dt>
<dd><p>一个布尔值，如果 toc 包含一个以上的条目，则为真。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="meta">
<span class="sig-name descname"><span class="pre">meta</span></span><a class="headerlink" href="#meta" title="永久链接至目标">¶</a></dt>
<dd><p>文档元数据（一个字典），见 <a class="reference internal" href="usage/restructuredtext/field-lists.html#metadata"><span class="std std-ref">整个文件的元数据</span></a>。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="metatags">
<span class="sig-name descname"><span class="pre">metatags</span></span><a class="headerlink" href="#metatags" title="永久链接至目标">¶</a></dt>
<dd><p>一个包含页面的 HTML <a class="reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#meta">meta</a> 标记的字符串。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="next">
<span class="sig-name descname"><span class="pre">next</span></span><a class="headerlink" href="#next" title="永久链接至目标">¶</a></dt>
<dd><p>导航的下一个文件。这个变量要么是 false，要么有两个属性 <code class="docutils literal notranslate"><span class="pre">link</span></code> 和 <code class="docutils literal notranslate"><span class="pre">title</span></code>。标题包含 HTML 标记。 例如，要生成一个到下一页的链接，可以使用这个片段</p>
<div class="highlight-html+jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">next</span> <span class="cp">%}</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">next.link</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">next.title</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="page_source_suffix">
<span class="sig-name descname"><span class="pre">page_source_suffix</span></span><a class="headerlink" href="#page_source_suffix" title="永久链接至目标">¶</a></dt>
<dd><p>被渲染的文件的后缀。由于我们支持 <a class="reference internal" href="usage/configuration.html#confval-source_suffix"><code class="xref std std-confval docutils literal notranslate"><span class="pre">source_suffix</span></code></a> 的列表，这将允许你正确链接到原始源文件。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="parents">
<span class="sig-name descname"><span class="pre">parents</span></span><a class="headerlink" href="#parents" title="永久链接至目标">¶</a></dt>
<dd><p>用于导航的父文档列表，结构类似于 <a class="reference internal" href="#next" title="next"><code class="xref py py-data docutils literal notranslate"><span class="pre">next</span></code></a> 项。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="prev">
<span class="sig-name descname"><span class="pre">prev</span></span><a class="headerlink" href="#prev" title="永久链接至目标">¶</a></dt>
<dd><p>就像 <a class="reference internal" href="#next" title="next"><code class="xref py py-data docutils literal notranslate"><span class="pre">next</span></code></a>，但是是针对前一页。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="sourcename">
<span class="sig-name descname"><span class="pre">sourcename</span></span><a class="headerlink" href="#sourcename" title="永久链接至目标">¶</a></dt>
<dd><p>当前文档复制的源文件的名称。只有当 <a class="reference internal" href="usage/configuration.html#confval-html_copy_source"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_copy_source</span></code></a> 值为 <code class="docutils literal notranslate"><span class="pre">True</span></code> 时，这个值才是非空的。在创建自动生成的文件时，这个值是空的。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="toc">
<span class="sig-name descname"><span class="pre">toc</span></span><a class="headerlink" href="#toc" title="永久链接至目标">¶</a></dt>
<dd><p>当前页面的本地目录，呈现为 HTML bullet 列表。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="toctree">
<span class="sig-name descname"><span class="pre">toctree</span></span><a class="headerlink" href="#toctree" title="永久链接至目标">¶</a></dt>
<dd><p>一个可调用程序，产生包含当前页面的全局 TOC 树，以 HTML bullet 列表的形式呈现。可选的关键字参数：</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">collapse</span></code></dt><dd><p>如果为真，所有不是当前页的祖先的 TOC 条目都会被折叠起来。默认为 <code class="docutils literal notranslate"><span class="pre">True</span></code>。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">maxdepth</span></code></dt><dd><p>树的最大深度。将其设置为 <code class="docutils literal notranslate"><span class="pre">-1</span></code> 以允许无限深度。 默认为 toctree 指令中选择的最大深度。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">titles_only</span></code></dt><dd><p>如果是真的，在树上只放顶层的文档标题。默认为 <code class="docutils literal notranslate"><span class="pre">False</span></code>。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">includehidden</span></code></dt><dd><p>如果为真，ToC 树也将包含隐藏条目。默认为 <code class="docutils literal notranslate"><span class="pre">False</span></code>。</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="latex.html" title="LaTeX customization"
             >下一页</a> |</li>
        <li class="right" >
          <a href="man/sphinx-autogen.html" title="sphinx-autogen"
             >上一页</a> |</li>
        <li><a href="index.html">Sphinx home</a>&#160;|</li>
        <li><a href="contents.html">Documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">主题化</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2007-2021, Georg Brandl and the Sphinx team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>
  </body>
</html>